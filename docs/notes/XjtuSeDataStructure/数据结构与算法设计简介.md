---
comments: true
---

# 数据结构与算法设计简介

> 作者：李彦筱
>
> 感谢学长 [yijunquan](https://github.com/yijunquan-afk) 的[软件工程笔记](https://github.com/yijunquan-afk/XJTUSE-NOTES)给我的启发。此笔记从二叉树开始的部分中使用了学长笔记中的部分图片以及文字。
>

信息应该如何表示？如何查找，修改，添加，删除信息？这都是数据结构需要解决的问题。设计好数据结构之后，还需要考虑，怎么样能提升使用此数据结构时的效率？怎么使用算法让它执行的更快？

当前，随着互联网和计算机规模的增大，计算机需要处理的数据规模也在快速增大。因此，需要设计良好的数据结构和访问算法，不然你的程序可能跑几个月也跑不完（）

面向对象课程处理了「如何描述对象的特征」这一问题。本课程将会处理「如何处理对象之间的关系」这一问题。

数据结构课程是软件工程专业课中最基础的一门课程，是编译原理、操作系统、数据库等一系列课程的基础。

## 什么是数据结构？

数据是信息的载体。数据用来表示信息，且它可以直接被计算机存储。

数据的基本单位是「数据元素」。比如，

```java
class Employee{
    private String name;
    private int age;
}
```

的一个对象是一个数据元素。

- 一般计算机每次把一个数据元素当作整体处理
- 有的数据元素由数据项组成（比如上边那个类里，一个数据元素包含两个项：姓名和年龄）。数据项是数据存在的最小单位。

### 定义

**某一数据元素的集合**和**该集合中所有数据元素之间的关系**构成。

Data_Structure = {D, R}

其中：D 为某一种数据的集合；R为描述D中所有元素之间关系的集合。

一般来说，有两种方法描述**两个**数据之间存在关系：

` <e1, e2>` ： 表示e1,e2间存在**有向**的关系：e1 -> e2

`(e1，e2)`：表示 e1, e2 之间存在**无向**的关系。

---------

举个例子，比如：

`D = {2, 5, 6, 1, 3}`

`R = {<2,5>,<5,6>,<6,1>,<1,3>}`

是一个数据结构。它的意思是：

D 描述了五个整数元素：2，5，6，1，3

R 描述了 D 中 5 个元素之间存在的关系：2 -> 5 -> 6 -> 1 -> 3 由于每个数据都指向**一个**数据，也被**一个**数据指向着，因此这种数据结构叫做**线性数据结构**。（这玩意的存储方式和线性表简直一模一样）。

> 其中，对于5而言，2叫做*直接前驱*，6叫做*直接后继*。除了头部没有直接前驱，尾部没有直接后继之外，其他元素都有（且只有一个）直接前驱和直接后继的数据结构叫做*线性数据结构*

---

上面的数据 D 还有一种组织方法 R：

`R = {<2,1>,<2,3>,<3,5>,<5,6>}`

即：2 -> 3 -> 5 -> 6

​	-> 1

这是一个长得不太好看的*树*。它是一个非线性的数据结构，因为节点“2”有着两个后继，而不是一个。

## 数据结构的学习内容

1. 数据元素间的逻辑关系

2. 数据元素和关系在计算机内的表示与存储

   这个也可以叫数据的物理结构（存储结构）

   > 有点像面向对象中，设计一个类类型包含的数据

3. 数据的运算（数据如何操作）

   > 有点像面向对象中，设计一个类类型包含哪些方法

这三项称为数据结构的三要素。

### 数据元素间的逻辑关系

1. **数据的逻辑结构从逻辑关系上描述数据，与数据的存储无关。**

   这是什么意思？这说明**数据的逻辑结构就是R，即数据之间的关系**。

2. 数据的逻辑结构与数据元素本身的形式和内容无关

   这是因为 R 与 D 本质上没有关联。你可以把 D 里的东西改成字符串，浮点数，或者其他什么东西，R 中的逻辑关系也不会变化。

3. 数据的逻辑结构与数据元素的相对存储位置没有关系

   在下面的例子中，数组的存储位置是绝对连续的；链表在内存中的位置可能是跳跃的；但是，不管是哪种实现，数据的逻辑结构都没有变化。

---

什么叫“与数据的存储无关”？

再回顾一下刚才那个D，R的例子。显然，第一种 R 对应了一个线性数据结构，那么你自然想到，可以用数组来存储这些数据：

`[2, 5, 6, 1, 3]`对应数组的 0，1，2，3，4位置。

显然，由于数据结构的定义里包含了数据之间的逻辑关系。我们在存储时也要存储数据间的逻辑关系。对于线性数据结构而言，这个逻辑关系就是：（除了头尾）每个元素都要有一个**直接前驱**和一个**直接后继**。让我们来看看数组有没有实现这一点。

显然，对于“5”这个数字来说，由于它的下标是1，你可以从下标为0的位置找到它的前驱，从下标为2的位置找到它的后继。对于其他所有的数字，都是这样。因此可以说，数组**成功的存储了数据的逻辑结构**。

如果你对数据结构已经有所了解，应该会想到，*链表* 也可以用于存储线性的数据结构。比如：

`[2] -> [5] -> [6] -> [1] -> [3]`（假装每个数据后边都有一个指向下一个数据的指针）

这种存放方式下，能否找到一个数据的前驱和后继呢？

对于后继：直接访问这个数据附带的指针指的下一个元素就行

对于前驱：遍历整个链表，如果一个数据的后继是我要找的那个数据，那这个数据自己就是我要找的数据的前驱。

---

总结一下，对于线性数据结构来说，**数组和链表都成功的存储了数据的逻辑结构**。因此说，数据的逻辑结构**与存储方式（数组或者链表）无关**。相同的逻辑关系可以在很多不同的数据存储结构中被成功存储。

#### 数据逻辑结构的种类

1. 线性结构（线性表）

2. 非线性结构（树，图等）

数据的逻辑结构是需要被存储的。一般来说，线性结构使用线性的存储结构（比如数组/链表）存储比较方便；非线性结构一般使用其他非线性的存储结构（比如多指针链表/其他自定义数据类型）存储比较舒服。

如果非要反着来，比如用线性存储结构存储非线性逻辑结构，那也不是不可以，因为**数据的逻辑结构与存储方式无关**。但这么写会比较麻烦。

### 数据的存储表示

> 包含数据的存储与数据之间关系的存储

1. 数据的存储结构是**数据逻辑结构**在计算机语言中的实现
2. 数据的存储结构**随计算机语言而不同**

“数组”，“链表”这些东西属于数据的**存储结构**，它们用来存放数据的逻辑结构。而且，这些东西的实现随计算机语言不同而不同，比如C语言肯定是用指针做链表，Java 只能直接用引用

请记住，存储数据结构时，不仅要存储数据内容，还要存储数据的逻辑结构。（D和R都需要存储）

#### 存储形式的分类

- 基于内存的存储：
  - 顺序存储（比如数组）
  - 链式存储（比如链表）
- 基于外存（文件）的存储（本课程不涉及）
  - 索引存储
  - 散列存储

### 数据的运算（数据的操作）

怎么操作数据？比如，如何：添加数据，查询数据，修改数据，删除数据？（**增删改查**）

稍后会看到不同数据结构对于不同运算的效率。

## 不同数据结构的效率

### 不同数据结构在效率上的差距

| 数据结构     | 优势                   | 劣势                                 |
| ------------ | ---------------------- | ------------------------------------ |
| Array        | 插入速度快             | 删除速度慢，搜索速度慢，元素个数有限 |
| OrderedArray | 搜索速度比Array快      | 插入速度慢，删除速度慢，元素个数有限 |
| LinkedList   | 插入速度快，删除速度快 | 搜素速度慢                           |

（从上到下分别为：数组，有序数组，链表）

以插入操作为例：

数组插入速度很快，只需要在最后一位加上就行；有序数组需要找到新的内容的插入位置，先移动插入位置之后的内容，再放入新的内容；链表只需要在表尾加一个新链即可

再看看删除操作：

数组在删除时不能直接把其中一位一删完事：因为这样会留下空洞。数组依靠自己序号之间的前后决定线性表的逻辑顺序，但留下一个空洞之后，这个洞前后元素的逻辑关系就被破坏了。因此，需要把空洞**后侧所有元素前移**填补这个洞。

> 现在我们在对存储结构操作时，要注意**不能让操作破坏蕴藏其中的逻辑关系**。

有序数组有着完全相同的问题。

链表就不同了：删除中间一个节点时，只需要把前面节点的指针指向后边的节点。因此，删除速度很快。

再看看查找操作：

数组必须进行顺序查找：最坏情况下，需要**遍历整个列表**，速度较慢。

有序数组可以进行**二分查找**，速度较快。

链表由于其**只能通过一个元素的后继获取下一个元素**，因此只能顺序查找，速度较慢。

---

结论：**不同数据结构对于不同操作的效率不同**

### 如何选择数据结构以使解决问题的算法是有效的？

什么是有效的算法？

算法在所要求的资源（存储空间资源，时间资源）内将问题解决好，就称这个算法是有效的。

如何选择数据结构？

1. 分析问题，以确定所有算法都会遇到的资源限制
2. 确定算法必须支持的基本运算，并度量每种运算是否达到了资源限制
3. 选择**最**接近开销的数据结构



## 抽象数据类型 (Abstract Data Type，ADT)

### 什么是「数据类型」？

一个数据集合和定义在此集合上的操作。

比如：对于 int 类型，我们可能会考虑：它能存放哪些范围的数据？它可以执行哪些运算（操作）？

面向对象的语言让我们可以创建自己的数据类型。本课程的重点就在于分析/设计自定义的数据类型。

### 什么是「抽象」？

- 将具体的实现细节和详细的规范说明完全分开

  比如说，公司里的一个职位是一个抽象概念。如，「办公室主任」表示一个职位，它要求任何承担这个职位的人必须做一些特定的工作；这些特定的工作和具体实现无关，和谁在这个职位也无关。

  不过，详细的实现（工作的实施）可能因为承担职位的人的偏好不同而不同。比如，假设办公室主任的一项工作是「让所有老师上班时签到」。这个工作一直存在，不论办公室主任到底是谁，因此它属于「规范说明」。而具体来说，办公室主任可能会让老师手动签到或者打卡签到，这属于具体实现，可以有所不同。

  「具体的实现细节」和「详细的规范说明」有一种「实现接口的类」和「接口」类似的关系。

### ADT 与具体数据结构的关系

ADT 是**数据间逻辑关系**和**数据拥有的操作**的描述

具体数据结构（Data Structure，DS）在其对应的 ADT 的指导下，描述数据具体应当如何存储，数据间的逻辑关系应当如何存储，以及数据的操作如何具体实现。

### 举例：从线性表抽象出一个 ADT

要创建一个 ADT ，我们需要先梳理线性表中数据之间的逻辑关系，以便用一个更普遍的方式描述它。

逻辑关系：除了表头与表尾之外，**所有其他元素只有一个直接前驱和直接后继**。

假如 `(r1,r2)` 可以表示 r1 是 r2 的直接前驱，r2 是 r1 的直接后继，而线性表中存在 r1,r2,…，rn 这样 n 个元素，那么它的 R（逻辑关系）可以表示为：

`R = {(r1,r2),(r2,r3),(r3,r4)，…,(rn-1,rn)}`

这样我们就表示出了线性表数据之间的逻辑关系

此外，由于ADT还包含数据拥有的操作，因此需要描述线性表能够执行的操作。

实现 ADT 的数据结构的类型是唯一的。不管他当中存放了什么数据，也不管线性表具体使用哪种编程语言中的那种东西实现，这些数据之间的逻辑关系和能够做的操作都是一样的。上面两者和数据的存放方法无关。

数据结构（DS，是ADT的具体实现）和ADT的不同：

- DS 更加具体化，开始关心数据应该如何存储
- DS 中，数据能执行的操作的实现可能彼此不同，与数据的存储方式有关。

线性表就像一个 ADT，「数组实现的线性表」和「链表实现的线性表」就像具体的数据结构（DS）

**举例：使用数组和链表实现线性表**

假设线性表要求一个操作“判断线性表是否为空”。在数组中，这个操作可能会实现为：判断数组首地址后边的地址有没有东西。在链表中，这个操作可能会实现为：判断链表的头指针和尾指针是否都为空（如果用双向链表的话）。两种数据结构对同一操作的实现不同，不过它们确实都实现了 ADT 规定的同一操作。

只有规范的数据类型是用不了的；必须要有一个数据结构实现了这个规范（遵循这个规范实现了它要求的所有操作），你才能使用这个数据结构。制定规范的东西就是ADT，实现规范的叫做DS（数据结构），他俩统称为数据类型。（DT，Data Type）

## 问题，算法和程序

### 问题

一个需要完成的任务，比如「如何通过给定的xxx输入得到xxx输出」？

问题的定义**不能包含对解决问题方式的限制**

问题**应当包含**对于解决方案**可用资源**的限制

### 算法

算法是解决*问题*的一种方法。一个问题可以用多种算法解决，但一个算法一般只能解决一种特殊的问题。

应当选择**最适合某种问题的算法**来解决问题。如果没有最优的方案，只有多种“还行”的方案时，需要自己选择某种方案，这个选择的方法也是本课程的重点。

### 程序

使用某种程序设计语言对一个算法的具体实现。

程序和算法的关系：

- 一个算法可以使用不同程序实现
- 算法必须可终止；因此，**不是所有程序都是算法的实现**
- 算法可以用文字，图像，伪代码等方法描述；程序只能用程序设计语言编写。

